<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://hacmanchester.github.io/Tools.OxCNC/Maintenance/Electronics-Upgrade/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Electronics Upgrade - Hacman - Ox CNC</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/highlight-fix.css" rel="stylesheet">
        <link href="../../css/highlight-custom.css" rel="stylesheet">
        <link href="../../css/navbarfix.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href=""></a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Milling <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../Milling/Connecting/">Connecting</a>
</li>
                    
                        
<li >
    <a href="../../Milling/Jog/">Jogging / Moving the CNC</a>
</li>
                    
                        
<li >
    <a href="../../Milling/Loading-Setup/">Loading and Setup</a>
</li>
                    
                        
<li >
    <a href="../../Milling/Simulation/">Simulation</a>
</li>
                    
                        
<li >
    <a href="../../Milling/Material/">Milling Material</a>
</li>
                    
                        
<li >
    <a href="../../Milling/FeedRates/">Feed Rates</a>
</li>
                    
                        
<li >
    <a href="../../Milling/Milling/">Milling</a>
</li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">PCB <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../PCB/Installing-FlatCAM/">Installing FlatCAM</a>
</li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Other <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../Other/MachinableWax/">Machinable Wax</a>
</li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Maintenance <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../Device-Overview/">Device Overview</a>
</li>
                    
                        
<li >
    <a href="../Updating-Firmware/">Updating the Firmware</a>
</li>
                    
                        
<li >
    <a href="../Grbl-Settings/">Grbl Settings</a>
</li>
                    
                        
<li >
    <a href="../Todo/">Todo</a>
</li>
                    
                        
<li class="active">
    <a href="./">Electronics Upgrade</a>
</li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                <li class="disabled">
                    <a rel="next" >
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li class="disabled">
                    <a rel="prev" >
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#electronic-upgrade">Electronic Upgrade</a></li>
            <li><a href="#controller">Controller</a></li>
            <li><a href="#stepper-drivers">Stepper drivers</a></li>
            <li><a href="#cnc-cable-connectors">CNC Cable / Connectors</a></li>
            <li><a href="#box">Box</a></li>
            <li><a href="#todo">TODO</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="electronic-upgrade">Electronic Upgrade</h1>
<p>I&rsquo;ve listed some plans to upgrade the electronics on the CNC within the hackspace <br>
Currently we&rsquo;re using grbl on a 16bit arduino with small Alegro drivers which isn&rsquo;t ideal</p>
<h2 id="controller">Controller</h2>
<p>For the controller board the plan I&rsquo;ve got at the moment
is to instead use a arduino due (32bit) with a breakout board</p>
<p>for the breakout board I&rsquo;m currently using one of these at home</p>
<ul>
<li><a href="http://ooznest.co.uk/3D-Printer-Electronic-Parts/RADDS-3D-Printer-Controller-Board">http://ooznest.co.uk/3D-Printer-Electronic-Parts/RADDS-3D-Printer-Controller-Board</a></li>
</ul>
<p>But what I think I&rsquo;ll try and do instead of buying one is make a custom board
that as green plugs for the stepper drivers <br>
as that is designed more for pololu and I already have the kicad schematic for it as well.</p>
<h2 id="stepper-drivers">Stepper drivers</h2>
<p>For the stepper drivers there&rsquo;s currently two options I&rsquo;m looking into</p>
<h3 id="dm542-dq542ma">DM542 / DQ542MA</h3>
<p>This is one option, it&rsquo;s easier to use as it&rsquo;s a pre-made module <br>
DM542 / DQ542MA seem to be a popular choice on the cnc forums I think
I think they have DSP&rsquo;s in so are a bit quieter</p>
<ul>
<li><a href="http://openbuildspartstore.com/dq542ma-stepper-motor-driver/">http://openbuildspartstore.com/dq542ma-stepper-motor-driver/</a> 30 x 4</li>
<li><a href="https://www.amazon.co.uk/s/ref=nb_sb_noss?url=search-alias%3Daps&amp;field-keywords=dm542">https://www.amazon.co.uk/s/ref=nb_sb_noss?url=search-alias%3Daps&amp;field-keywords=dm542</a></li>
<li><a href="https://www.youtube.com/watch?v=8sHsa4FZ2Cc">https://www.youtube.com/watch?v=8sHsa4FZ2Cc</a></li>
<li><a href="https://www.amazon.co.uk/Kehuashina-Leadshine-DM542-05-DM54205-Stepper/dp/B07BBCWH7X/ref=sr_1_2?ie=UTF8&amp;qid=1528157669&amp;sr=8-2&amp;keywords=dm542">https://www.amazon.co.uk/Kehuashina-Leadshine-DM542-05-DM54205-Stepper/dp/B07BBCWH7X/ref=sr_1_2?ie=UTF8&amp;qid=1528157669&amp;sr=8-2&amp;keywords=dm542</a></li>
</ul>
<h3 id="tmc5160">TMC5160</h3>
<p>This is the one I&rsquo;d like to use, possibly sitting on top of another board with a bit of opto isolation</p>
<ul>
<li><a href="https://www.digikey.co.uk/product-detail/en/trinamic-motion-control-gmbh/TMC5160-BOB/1460-1250-ND/8440397">https://www.digikey.co.uk/product-detail/en/trinamic-motion-control-gmbh/TMC5160-BOB/1460-1250-ND/8440397</a></li>
</ul>
<p>trinamic drivers have some features built in we could use later on such as measuring the amount of torque against the bit
or stealthchop etc, but to start with we could just run them as normal in step / dir mode <br>
however those fet&rsquo;s are only rated for 2.8A so I&rsquo;ve asked trinamic if they think the Bob board would be suitable.
Also an additional heatsink may be needed.</p>
<h3 id="other-suggestions">Other suggestions</h3>
<ul>
<li><a href="https://www.buildyourcnc.com/item/electronicsAndMotors-stepper-driver-3!0a">https://www.buildyourcnc.com/item/electronicsAndMotors-stepper-driver-3!0a</a></li>
<li><a href="https://www.youtube.com/watch?v=woyp03D0neY">https://www.youtube.com/watch?v=woyp03D0neY</a></li>
</ul>
<h2 id="cnc-cable-connectors">CNC Cable / Connectors</h2>
<p>We&rsquo;ll need to move the electronics to it&rsquo;s own seperate box under the bench</p>
<ul>
<li>stepper driver cable - ?? not sure how many meters to use yet
    <a href="https://www.cnc4you.co.uk/Electrical/Cables-Connectors/4-Core-Screened-Cable-0.75mm-12Amp">https://www.cnc4you.co.uk/Electrical/Cables-Connectors/4-Core-Screened-Cable-0.75mm-12Amp</a></li>
<li>Connectors - todo check which connectors to use, I think those 4 pin areospace ones</li>
</ul>
<h2 id="box">Box</h2>
<p>I&rsquo;m not sure if the box I&rsquo;ve got so far will be big enough for everything
could do with finding something a bit bigger in the space</p>
<h2 id="todo">TODO</h2>
<h3 id="endstops">Endstops</h3>
<p>The current end stop board uses relays, I might try and replace that with an opto-coupler board</p>
<h3 id="machine-kit">Machine kit</h3>
<p>later on we may want to look into using a beaglebone board with a cape of some description with machinekit
however I need to spend some time testing / figuring that out so for now we&rsquo;ll stick to g2core since I&rsquo;ve already got that working before
also we need it to work with chillipepr.</p>
<ul>
<li><a href="https://jetforme.org/2018/04/machinekit-on-bbb/">https://jetforme.org/2018/04/machinekit-on-bbb/</a></li>
</ul>
<p>Some example cape&rsquo;s used with machinekit (cramps / optocape):</p>
<ul>
<li><a href="http://blog.machinekit.io/p/hardware-capes.html#Xylotex">http://blog.machinekit.io/p/hardware-capes.html#Xylotex</a></li>
<li><a href="https://www.tindie.com/products/TEMProducts/optocape/">https://www.tindie.com/products/TEMProducts/optocape/</a></li>
<li><a href="https://github.com/dgouramanis/optocape">https://github.com/dgouramanis/optocape</a></li>
</ul></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../..';</script>
        <script src="../../js/base.js"></script>
        <script src="../../search/require.js"></script>
        <script src="../../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
